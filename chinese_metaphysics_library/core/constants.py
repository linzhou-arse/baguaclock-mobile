#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
常量定义 - Constants
===================

定义中国命理学知识库的核心常量
"""

# 天干地支
TIANGAN_LIST = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸']
DIZHI_LIST = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥']

# 五行
WUXING_LIST = ['木', '火', '土', '金', '水']
WUXING_COLORS = {
    '木': '绿色',
    '火': '红色', 
    '土': '黄色',
    '金': '白色',
    '水': '黑色'
}

# 天干五行对应
TIANGAN_WUXING = {
    '甲': '木', '乙': '木',
    '丙': '火', '丁': '火',
    '戊': '土', '己': '土',
    '庚': '金', '辛': '金',
    '壬': '水', '癸': '水'
}

# 天干阴阳（阳：+1，阴：-1）
TIANGAN_YINYANG = {
    '甲': 1, '乙': -1,
    '丙': 1, '丁': -1,
    '戊': 1, '己': -1,
    '庚': 1, '辛': -1,
    '壬': 1, '癸': -1,
}

# 五行相生关系（我生者）
WUXING_SHENG_MAP = {
    '木': '火',
    '火': '土',
    '土': '金',
    '金': '水',
    '水': '木',
}

# 五行相克关系（我克者）
WUXING_KE_MAP = {
    '木': '土',
    '土': '水',
    '水': '火',
    '火': '金',
    '金': '木',
}

# 地支五行对应
DIZHI_WUXING = {
    '子': '水', '丑': '土', '寅': '木', '卯': '木',
    '辰': '土', '巳': '火', '午': '火', '未': '土',
    '申': '金', '酉': '金', '戌': '土', '亥': '水'
}

# 十神
SHISEN_LIST = ['比肩', '劫财', '食神', '伤官', '偏财', '正财', '偏官', '正官', '偏印', '正印']
SHISEN_ABBREV = {
    '比肩': '比', '劫财': '劫', '食神': '食', '伤官': '伤',
    '偏财': '才', '正财': '财', '偏官': '杀', '正官': '官',
    '偏印': '枭', '正印': '印'
}

# 神煞
SHENGSHA_LIST = [
    # 吉神
    '天德贵人', '月德贵人', '天乙贵人', '文昌贵人', '学堂', '词馆',
    '禄神', '天医', '天赦', '四废', '天罗', '地网',
    # 凶神
    '羊刃', '劫煞', '灾煞', '天煞', '地煞', '年煞', '月煞', '日煞', '时煞',
    '孤辰', '寡宿', '空亡', '华盖', '桃花', '红鸾', '天喜'
]

# 格局
GEJU_LIST = [
    # 正格
    '正官格', '偏官格', '正财格', '偏财格', '正印格', '偏印格',
    '食神格', '伤官格', '比肩格', '劫财格',
    # 变格
    '从官格', '从财格', '从儿格', '从强格', '从弱格',
    '化气格', '专旺格', '两神成象格',
    # 外格
    '金神格', '魁罡格', '日德格', '日贵格', '福德格'
]

# 调候用神
TIAOHOU_YONGSHEN = {
    '春': ['丙', '癸'],  # 春月喜丙火调候，癸水润土
    '夏': ['壬', '庚'],  # 夏月喜壬水调候，庚金生水
    '秋': ['甲', '丙'],  # 秋月喜甲木调候，丙火暖金
    '冬': ['丙', '甲']   # 冬月喜丙火调候，甲木生火
}

# 季节判断
SEASON_MONTHS = {
    '春': ['寅', '卯', '辰'],
    '夏': ['巳', '午', '未'],
    '秋': ['申', '酉', '戌'],
    '冬': ['亥', '子', '丑']
}

# 地支藏干（统一标准版本）
# 权重说明：本气0.6-0.7，中气0.2-0.3，余气0.1，总和为1.0
# ✅ 已统一：所有模块都应使用此定义
DIZHI_CANGGAN = {
    '子': [('癸', 1.0)],                          # 子水：纯癸水
    '丑': [('己', 0.6), ('癸', 0.3), ('辛', 0.1)],  # 丑土：己土本气，癸水中气，辛金余气
    '寅': [('甲', 0.7), ('丙', 0.2), ('戊', 0.1)],  # 寅木：甲木本气，丙火中气，戊土余气
    '卯': [('乙', 1.0)],                          # 卯木：纯乙木
    '辰': [('戊', 0.6), ('乙', 0.3), ('癸', 0.1)],  # 辰土：戊土本气，乙木中气，癸水余气
    '巳': [('丙', 0.7), ('戊', 0.2), ('庚', 0.1)],  # 巳火：丙火本气，戊土中气，庚金余气
    '午': [('丁', 0.7), ('己', 0.3)],              # 午火：丁火本气，己土中气
    '未': [('己', 0.6), ('丁', 0.3), ('乙', 0.1)],  # 未土：己土本气，丁火中气，乙木余气
    '申': [('庚', 0.7), ('壬', 0.2), ('戊', 0.1)],  # 申金：庚金本气，壬水中气，戊土余气
    '酉': [('辛', 1.0)],                          # 酉金：纯辛金
    '戌': [('戊', 0.6), ('辛', 0.3), ('丁', 0.1)],  # 戌土：戊土本气，辛金中气，丁火余气
    '亥': [('壬', 0.7), ('甲', 0.3)]               # 亥水：壬水本气，甲木中气
}

# 天干合化
TIANGAN_HEHUA = {
    '甲己': '土', '乙庚': '金', '丙辛': '水',
    '丁壬': '木', '戊癸': '火'
}

# 地支三合
DIZHI_SANHE = {
    '申子辰': '水', '亥卯未': '木', '寅午戌': '火', '巳酉丑': '金'
}

# 地支六合
DIZHI_LIUHE = {
    '子丑': '土', '寅亥': '木', '卯戌': '火',
    '辰酉': '金', '巳申': '水', '午未': '土'
}

# 地支六冲
DIZHI_LIUCHONG = {
    '子午': '冲', '丑未': '冲', '寅申': '冲',
    '卯酉': '冲', '辰戌': '冲', '巳亥': '冲'
}

# 地支三刑
DIZHI_SANXING = {
    '寅巳申': '无恩之刑',
    '丑戌未': '持势之刑', 
    '子卯': '无礼之刑',
    '辰午酉亥': '自刑'
}

# 纳音五行
NAYIN_WUXING = {
    '甲子': '海中金', '乙丑': '海中金',
    '丙寅': '炉中火', '丁卯': '炉中火',
    '戊辰': '大林木', '己巳': '大林木',
    '庚午': '路旁土', '辛未': '路旁土',
    '壬申': '剑锋金', '癸酉': '剑锋金',
    '甲戌': '山头火', '乙亥': '山头火',
    '丙子': '涧下水', '丁丑': '涧下水',
    '戊寅': '城墙土', '己卯': '城墙土',
    '庚辰': '白蜡金', '辛巳': '白蜡金',
    '壬午': '杨柳木', '癸未': '杨柳木',
    '甲申': '泉中水', '乙酉': '泉中水',
    '丙戌': '屋上土', '丁亥': '屋上土',
    '戊子': '霹雳火', '己丑': '霹雳火',
    '庚寅': '松柏木', '辛卯': '松柏木',
    '壬辰': '长流水', '癸巳': '长流水',
    '甲午': '沙中金', '乙未': '沙中金',
    '丙申': '山下火', '丁酉': '山下火',
    '戊戌': '平地木', '己亥': '平地木',
    '庚子': '壁上土', '辛丑': '壁上土',
    '壬寅': '金箔金', '癸卯': '金箔金',
    '甲辰': '覆灯火', '乙巳': '覆灯火',
    '丙午': '天河水', '丁未': '天河水',
    '戊申': '大驿土', '己酉': '大驿土',
    '庚戌': '钗钏金', '辛亥': '钗钏金',
    '壬子': '桑柘木', '癸丑': '桑柘木',
    '甲寅': '大溪水', '乙卯': '大溪水',
    '丙辰': '沙中土', '丁巳': '沙中土',
    '戊午': '天上火', '己未': '天上火',
    '庚申': '石榴木', '辛酉': '石榴木',
    '壬戌': '大海水', '癸亥': '大海水'
}

# 大运推算
DAYUN_ORDER = {
    '男': {
        '阳年': '顺行',  # 甲丙戊庚壬年
        '阴年': '逆行'   # 乙丁己辛癸年
    },
    '女': {
        '阳年': '逆行',
        '阴年': '顺行'
    }
}

# 流年吉凶
LIUNIAN_JIXIONG = {
    '天干': {
        '甲': {'吉': ['甲', '丙', '戊'], '凶': ['庚', '壬']},
        '乙': {'吉': ['乙', '丁', '己'], '凶': ['辛', '癸']},
        '丙': {'吉': ['丙', '戊', '庚'], '凶': ['壬', '甲']},
        '丁': {'吉': ['丁', '己', '辛'], '凶': ['癸', '乙']},
        '戊': {'吉': ['戊', '庚', '壬'], '凶': ['甲', '丙']},
        '己': {'吉': ['己', '辛', '癸'], '凶': ['乙', '丁']},
        '庚': {'吉': ['庚', '壬', '甲'], '凶': ['丙', '戊']},
        '辛': {'吉': ['辛', '癸', '乙'], '凶': ['丁', '己']},
        '壬': {'吉': ['壬', '甲', '丙'], '凶': ['戊', '庚']},
        '癸': {'吉': ['癸', '乙', '丁'], '凶': ['己', '辛']}
    }
}

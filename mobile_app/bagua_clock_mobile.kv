#:kivy 2.0.0
#:import Clock kivy.clock.Clock
#:import dp kivy.metrics.dp

<ScreenManager>:
    id: screen_manager
    
    HomeScreen:
        name: 'home'
    
    BaziScreen:
        name: 'bazi'
    
    ZeriScreen:
        name: 'zeri'
    
    FengshuiScreen:
        name: 'fengshui'
    
    NamingScreen:
        name: 'naming'

<HomeScreen>:
    name: 'home'
    
    MDBoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 20
        
        MDLabel:
            text: "八卦时钟 V2.0.0"
            halign: "center"
            theme_text_color: "Primary"
            font_style: "H4"
            size_hint_y: None
            height: self.texture_size[1] + dp(20)
        
        # 八卦时钟显示区域
        MDCard:
            size_hint_y: None
            height: dp(300)
            padding: 20
            spacing: 10
            
            MDBoxLayout:
                orientation: 'vertical'
                spacing: 10
                
                MDLabel:
                    text: "当前时辰"
                    halign: "center"
                    theme_text_color: "Primary"
                    font_style: "H6"
                
                MDLabel:
                    id: current_time_label
                    text: "加载中..."
                    halign: "center"
                    theme_text_color: "Secondary"
                    font_style: "Body1"
        
        # 功能按钮区域
        ScrollView:
            MDGridLayout:
                cols: 2
                spacing: 10
                padding: 10
                adaptive_height: True
                
                MDRaisedButton:
                    text: "八字算命"
                    on_press: app.root.ids.screen_manager.current = 'bazi'
                
                MDRaisedButton:
                    text: "神煞分析"
                    on_press: app.root.ids.screen_manager.current = 'shensha'
                
                MDRaisedButton:
                    text: "财运分析"
                    on_press: app.root.ids.screen_manager.current = 'caiyun'
                
                MDRaisedButton:
                    text: "婚姻分析"
                    on_press: app.root.ids.screen_manager.current = 'hunyin'
                
                MDRaisedButton:
                    text: "职业分析"
                    on_press: app.root.ids.screen_manager.current = 'zhiye'
                
                MDRaisedButton:
                    text: "系统设置"
                    on_press: app.root.ids.screen_manager.current = 'settings'

